{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TaskInputField from \"./src/components/TaskinputField\";\nimport TaskItem from \"./src/components/TaskItem\";\nimport styles from \"./src/styles/app\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar App = function App() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tasks = _useState2[0],\n      setTasks = _useState2[1];\n\n  var addTask = function addTask(task) {\n    if (task == null) return;\n    setTasks([].concat(_toConsumableArray(tasks), [task]));\n    Keyboard.dismiss();\n  };\n\n  var _deleteTask = function deleteTask(deleteIndex) {\n    setTasks(tasks.filter(function (value, index) {\n      return index != deleteIndex;\n    }));\n  };\n\n  var getTasks = function _callee() {\n    var response, data;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch('http://localhost:3000/task'));\n\n          case 3:\n            response = _context.sent;\n            data = response.json();\n            setTasks(data);\n            _context.next = 12;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n            setTasks([]);\n\n          case 12:\n            _context.prev = 12;\n            setLoading(false);\n            return _context.finish(12);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8, 12, 15]], Promise);\n  };\n\n  useEffect(function () {\n    getTasks();\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \" Lista de Tarefas\"\n    }), _jsx(ScrollView, {\n      style: styles.scrollView,\n      children: tasks.map(function (task, index) {\n        return _jsx(View, {\n          style: styles.taskContainer,\n          children: _jsx(TaskItem, {\n            index: index + 1,\n            task: task,\n            deleteTask: function deleteTask() {\n              return _deleteTask(index);\n            }\n          })\n        });\n      })\n    }), _jsx(TaskInputField, {\n      addTask: addTask\n    })]\n  });\n};\n\nexport default App;","map":{"version":3,"sources":["/home/pbattistella/desenvolvimento/react-native/todolist-backend-frontend/frontend/App.js"],"names":["useEffect","useState","TaskInputField","TaskItem","styles","App","tasks","setTasks","addTask","task","Keyboard","dismiss","deleteTask","deleteIndex","filter","value","index","getTasks","fetch","response","data","json","console","error","setLoading","container","title","scrollView","map","taskContainer"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;;;AAEA,OAAOC,cAAP;AACA,OAAOC,QAAP;AACA,OAAOC,MAAP;;;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;AACd,kBAA0BJ,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOK,KAAP;AAAA,MAAcC,QAAd;;AAEA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,IAAI,EAAI;AACpB,QAAIA,IAAI,IAAI,IAAZ,EAAkB;AAClBF,IAAAA,QAAQ,8BAAKD,KAAL,IAAYG,IAAZ,GAAR;AACAC,IAAAA,QAAQ,CAACC,OAAT;AACH,GAJD;;AAMA,MAAMC,WAAU,GAAG,SAAbA,UAAa,CAAAC,WAAW,EAAI;AAC9BN,IAAAA,QAAQ,CAACD,KAAK,CAACQ,MAAN,CAAa,UAACC,KAAD,EAAQC,KAAR;AAAA,aAAkBA,KAAK,IAAIH,WAA3B;AAAA,KAAb,CAAD,CAAR;AACH,GAFD;;AAIA,MAAMI,QAAQ,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEcC,KAAK,CAAC,4BAAD,CAFnB;;AAAA;AAEHC,YAAAA,QAFG;AAGHC,YAAAA,IAHG,GAGID,QAAQ,CAACE,IAAT,EAHJ;AAITd,YAAAA,QAAQ,CAACa,IAAD,CAAR;AAJS;AAAA;;AAAA;AAAA;AAAA;AAMTE,YAAAA,OAAO,CAACC,KAAR;AACAhB,YAAAA,QAAQ,CAAC,EAAD,CAAR;;AAPS;AAAA;AASTiB,YAAAA,UAAU,CAAC,KAAD,CAAV;AATS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAaAxB,EAAAA,SAAS,CAAE,YAAM;AACbiB,IAAAA,QAAQ;AACX,GAFQ,EAEN,EAFM,CAAT;AAIA,SACI,MAAC,IAAD;AAAM,IAAA,KAAK,EAAEb,MAAM,CAACqB,SAApB;AAAA,eACI,KAAC,IAAD;AAAM,MAAA,KAAK,EAAErB,MAAM,CAACsB,KAApB;AAAA;AAAA,MADJ,EAEI,KAAC,UAAD;AAAY,MAAA,KAAK,EAAEtB,MAAM,CAACuB,UAA1B;AAAA,gBAEQrB,KAAK,CAACsB,GAAN,CAAU,UAACnB,IAAD,EAAOO,KAAP,EAAiB;AACvB,eACI,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEZ,MAAM,CAACyB,aAApB;AAAA,oBACI,KAAC,QAAD;AAAU,YAAA,KAAK,EAAEb,KAAK,GAAG,CAAzB;AAA4B,YAAA,IAAI,EAAEP,IAAlC;AACI,YAAA,UAAU,EAAE;AAAA,qBAAMG,WAAU,CAACI,KAAD,CAAhB;AAAA;AADhB;AADJ,UADJ;AAOH,OARD;AAFR,MAFJ,EAeI,KAAC,cAAD;AAAgB,MAAA,OAAO,EAAER;AAAzB,MAfJ;AAAA,IADJ;AAoBH,CAlDD;;AAoDA,eAAeH,GAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { View, Text, Keyboard, ScrollView } from \"react-native\";\nimport TaskInputField from \"./src/components/TaskinputField\";\nimport TaskItem from \"./src/components/TaskItem\"\nimport styles from \"./src/styles/app\"\n\nconst App = () => {\n    const [tasks, setTasks] = useState([])\n\n    const addTask = task => {\n        if (task == null) return\n        setTasks([...tasks, task])\n        Keyboard.dismiss()\n    }\n\n    const deleteTask = deleteIndex => {\n        setTasks(tasks.filter((value, index) => index != deleteIndex))\n    }\n\n    const getTasks = async() => {\n        try{\n            const response = await fetch('http://localhost:3000/task')\n            const data = response.json()\n            setTasks(data)\n        } catch(error){\n            console.error(error)\n            setTasks([])\n        } finally{\n            setLoading(false)\n        }\n    }\n\n    useEffect( () => {\n        getTasks()\n    }, [])\n\n    return (\n        <View style={styles.container}>\n            <Text style={styles.title}> Lista de Tarefas</Text>\n            <ScrollView style={styles.scrollView}>\n                {\n                    tasks.map((task, index) => {\n                        return (\n                            <View style={styles.taskContainer} >\n                                <TaskItem index={index + 1} task={task}\n                                    deleteTask={() => deleteTask(index)}\n                                />\n                            </View>\n                        )\n                    })\n                }\n            </ScrollView>\n            <TaskInputField addTask={addTask} />\n        </View>\n    )\n\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}